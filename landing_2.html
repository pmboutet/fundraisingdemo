<!DOCTYPE html>
<html>

<head>
 <title></title>
 <meta name="ROBOTS" content="INDEX,FOLLOW">
 <meta name="keywords" content="">
 <meta name="description" content="">
 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
 <script src="https://code.jquery.com/jquery-3.6.4.slim.min.js"
  integrity="sha256-a2yjHM4jnF9f54xUQakjZGaqYs/V1CYvWpoqZzC2/Bw=" crossorigin="anonymous"></script>
 <link rel="preload" as="font"
  href="https://ccfd-terresolidaire.org/wp-content/themes/terre-solidaire/assets/fonts/futura-bold.woff2"
  crossorigin="">
 <style>
  /*********Vars***************/
  :root {
   --brand-color: #ffffff;
   --footer-color: #fc6117;
   --brand-text-color: #4f4f4f;
   --button-color: #fc6117;
   --button-color-hover: #b44512;
   --header-color: #002d64;
   --header-text-color: white;
   --footer-text-color: #FFFFFF;
   --button-text-color: white;
  }
 </style>
 <style>
  .img25 {
   width: 25%;
  }

  .btn-primary {
   background-color: var(--button-color);
   border-color: var(--button-color-hover);
  }

  .btn-primary:hover {
   background-color: var(--button-color-hover);
   border-color: var(--button-color);
  }

  .vignette {
   position: relative;
   display: inline-block;
   border-radius: 50%;
   overflow: hidden;
   height: 200px;
   width: 200px;
   border: solid lightgrey 10px;
  }

  .vignette::before {
   content: "";
   display: block;
   position: absolute;
   top: -10%;
   left: -10%;
   width: 120%;
   height: 120%;
   background: radial-gradient(ellipse at center, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.6) 60%, rgba(0, 0, 0, 0.8) 100%);
   transform: rotate(-45deg);
   opacity: 0.9;
   z-index: 1;
  }

  .parallax {
   /* The image used */
   background-image: url("https://ccfd-terresolidaire.org/wp-content/uploads/2022/05/money-g8a83e1858_1920-768x512.jpg");

   /* Set a specific height */
   min-height: 500px;

   /* Create the parallax scrolling effect */
   background-attachment: fixed;
   background-position: center;
   background-repeat: no-repeat;
   background-size: cover;
  }

  .navbar {
   opacity: 0.9;
  }

  .heading-primary {
   font-family: "Futura Condensed", "Futura", serif;
   font-size: calc(2.6rem+(5.0625 - 3.375) * ((100vw - 23.4375rem) / (90 - 23.4375)));
   font-size: 54px;
   font-weight: 900;
   line-height: 115%;
   text-align: center;
   color: white;
  }

  .heading-primary span {
   text-decoration: none;
  }

  .heading-primary span.orangeWhite {
   color: #fc6117;
   background-color: white;
  }

  .heading-primary span.whiteOrange {
   background-color: #fc6117;
   color: white;
  }

  .heading-primary span.whiteBlue {
   background-color: var(--header-color);
   color: white;
  }

  .padding50 {
   padding-top: 50px;
  }

  .blue {
   color: var(--header-color)
  }

  .orange {
   color: var(--button-color)
  }

  .img-fluid-custom {
   height: 200px;
  }

  @media (min-width: 300px) {
   .col-md-6 {
    -ms-flex: 0 0 50%;
    flex: 0 0 100%;
    max-width: 100%;
   }
  }

  @media (min-width: 1000px) {
   .col-md-6 {
    -ms-flex: 0 0 50%;
    flex: 0 0 50%;
    max-width: 50%;
   }
  }
  @media (max-width: 1000px) {
   .heading-primary {
    font-size: 81px;
    margin-top: 72px;
    margin-bottom: 72px;
   }

   body {
    font-size: 2.8rem;
   }

   .form-control {
    font-size: 1.5em;
    color: #17a2b8;
   }
   .lead {
    font-size: 2.25rem;
    font-weight: 300;
   }
   .btn {
    font-size: 5rem;
   }
  }
 </style>
</head>
%%[
/* récupération des paramètres envoyés */
set @contactId = QueryParameter("id")
set @paix_ensemble  = RequestParameter("paix_ensemble")
set @justice_eco  = RequestParameter("justice_eco")
set @migrations_int  = RequestParameter("migrations_int")
set @alimentaire  = RequestParameter("alimentaire")
set @militant  = RequestParameter("militant")
set @donateur  = RequestParameter("donateur")
set @calendrier_religieux  = RequestParameter("calendrier_religieux")
set @calendrier_non_def  = RequestParameter("calendrier_non_def")
set @tu  = RequestParameter("tu")
set @vous  = RequestParameter("vous")
set @une_mn  = RequestParameter("une_mn")
set @quinze_mn   = RequestParameter("quinze_mn") 


IF (empty(@paix_ensemble) OR  @paix_ensemble == "0") THEN set @SC_paix_ensemble=FALSE  ELSE  set @SC_paix_ensemble=TRUE ENDIF
IF (empty(@justice_eco) OR  @justice_eco == "0") THEN set @SC_justice_eco=FALSE  ELSE  set @SC_justice_eco=TRUE ENDIF
IF (empty(@migrations_int) OR  @migrations_int == "0") THEN set @SC_migrations_int=FALSE  ELSE  set @SC_migrations_int=TRUE ENDIF
IF (empty(@alimentaire) OR  @alimentaire == "0") THEN set @SC_alimentaire=FALSE  ELSE  set @SC_alimentaire=TRUE ENDIF
IF (empty(@militant) OR  @militant == "0") THEN set @SC_militant=FALSE  ELSE  set @SC_militant=TRUE ENDIF

IF (empty(@donateur) OR  @donateur == "0") THEN set @SC_donateur=FALSE  ELSE  set @SC_donateur=TRUE ENDIF

IF (@calendrier_religieux == "1") THEN set @SC_careme=TRUE ENDIF
IF (@calendrier_non_def == "1") THEN set @SC_careme=FALSE  ENDIF
IF (@tu == "1")  THEN  set @SC_vouvoiement=FALSE ENDIF
IF (@vous == "1") THEN set @SC_vouvoiement=TRUE ENDIF
IF (@une_mn == "1") THEN   set @SC_Temps="1 minute" ENDIF
IF (@quinze_mn == "1") THEN   set @SC_Temps="15 minutes" ENDIF

  
Set @createPU = CreateSalesforceObject("Profil_Utilisateur__c", 22,
                "Contact__c", @contactId,
                "Alimentaire__c",@SC_alimentaire,  
                "careme__c", @SC_careme,
                "Donateur__c",@SC_donateur,
                "Justice_economique__c", @SC_justice_eco,
                "Migration_Internationale__c",@SC_migrations_int,
                "Militant__c",@SC_militant,              
                "Paix_Ensemble__c", @SC_paix_ensemble,
                "Vouvoiement__c",@SC_vouvoiement,
                "Temps__c",@SC_Temps,
                "Dispo_courte__c",@une_mn,
                "Dispo_importante__c",@quinze_mn,
                "Style_formel_vous__c",@vous,
                "Style_informel_tu__c",@tu,
                 "Calendrier_religieux__c",@calendrier_religieux,
                "Calendrier_non_sp_cifi__c",@calendrier_non_def,
                "Combat_alimentation__c",@alimentaire,
                "Combat_paix__c",@paix_ensemble,
                 "Combat_migrations__c",@migrations_int,  
                 "Combat_justice_co__c",@justice_eco,
                  "Profil_militant__c",@militant,
                  "Profil_donateur__c",@donateur  
                )
                
                
 set @retrieveProfil = RetrieveSalesforceObjects("Contact","LastName,FirstName,Email,MobilePhone","Id","=",@contactId)
  set @rowCount = RowCount(@retrieveProfil) 
  IF(@rowCount>0)THEN 
       SET @RecordRow = ROW(@retrieveProfil,1) 
       SET @prenom = field(@RecordRow,"FirstName") 
       SET @nom = field(@RecordRow,"LastName") 
       SET @email = field(@RecordRow,"Email")
       SET @mobile = field(@RecordRow,"MobilePhone") 
 ELSE
      SET @prenom = "Aline" 
       SET @nom = "Wiki" 
       SET @email = "wiki@monmail.com"
       SET @mobile = "0607080910"
 ENDIF

]%%
<body>
 <div class="container-fluid">
  <!-- header -->
  <div class="row" id="headerMessage">
   <div class="col-md-12">
    <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
     <a class="navbar-brand" href="#">
      <img src="https://ccfd-terresolidaire.org/wp-content/themes/terre-solidaire/assets/images/logo-orange.png"
       height="30" alt="">
     </a>
    </nav>
   </div>
  </div>
  <div class="parallax d-flex align-items-center justify-content-center row" id="img_hero">
   <h1 class="heading-primary"><span class="orangeWhite" id="page_titre"><!--  titre --> </span><br /><span
     id="page_titre_ornage" class="whiteOrange"><!-- sous titre --></span></h1>
  </div>
  <!--petition-->
  <div class="row" id="rowPetition">
   <div class="col-6 col-md-6 alert alert-warning">
    <img src="https://ccfd-terresolidaire.org/wp-content/uploads/2021/11/095_VAR2021011G0603-6534-scaled-e1641488363935-1536x1149.jpg"
     alt="Pétition" height="auto" class=" img_action img-thumbnail mr-3 align-self-start">
   </div>
   <div class="col-6 col-md-6 alert alert-warning">
    <h4 class="alert-heading heading-primary blue"><span class="whiteOrange">Pétition</span>
     <p id="page_petition_titre">Agissons pour la solidarité internationale !</p>
    </h4>
    <p id="page_petition_txt">Signez la pétition pour exiger des États qu'ils respectent les droits des
     migrants et des réfugiés. En signant cette pétition, vous soutenez la solidarité internationale et
     vous vous engagez pour un monde plus juste et plus équitable pour tous.</p>
    <hr>
    <a href="https://ccfd-terresolidaire.org/combat/migrations-internationales/" target="_blank"
     class="btn btn-primary">Signez la pétition dès maintenant</a>
   </div>
  </div>
  <!--don-->
  <div class="row" id="rowDon">
   <div class="col-md-6  border-0 alert alert-success">
    <img src="https://ccfd-terresolidaire.org/wp-content/uploads/2021/11/095_VAR2021011G0603-6534-scaled-e1641488363935-1536x1149.jpg"
     alt="Pétition" height="auto" class="img_action img-thumbnail mr-3 align-self-start ">
   </div>
   <div class="col-md-6 alert alert-success border-0">
    <h4 class="alert-heading heading-primary blue"><span class="whiteOrange">Appel à don</span>
     <p id="page_don_titre">Agissons pour la solidarité internationale !</p>
    </h4>
    <div id="page_don_txt">
     <p>Agissez dès maintenant pour soutenir la solidarité internationale et contribuer à bâtir un monde
      plus juste et équitable pour tous.
     </p>
     <p>
      Votre don peut faire la différence en aidant les réfugiés et les migrants dans le besoin à
      travers le monde. Avec votre soutien, nous pouvons fournir de la nourriture, de l'eau potable,
      des soins médicaux et un refuge pour les personnes les plus vulnérables. </p>
     <p> Faites un don dès aujourd'hui pour soutenir notre cause et aider à changer la vie de ceux qui en
      ont besoin.</p>
    </div>
    <hr>
    <div class="form-group">
     <label for="amount">Faire un don : </label>
     <div class="text-center">
      <div class="btn-group btn-group-toggle" data-toggle="buttons">
       <label class="btn btn-secondary active btn-xl">
        <input type="radio" id="option1" value="10" checked> 10€
       </label>
       <label class="btn btn-secondary btn-xl">
        <input type="radio" id="option2" value="25"> 25€
       </label>
       <label class="btn btn-secondary btn-xl">
        <input type="radio" id="option3" value="50"> 50€
       </label>
       <label class="btn btn-secondary btn-xl">
        <input type="radio" id="option4" value="100"> 100€
       </label>
      </div>
      <button type="submit" class="btn btn-primary btn-xl">Donner</button>
     </div>
    </div>
   </div>
  </div>
  <!-- resp regional -->
  <div class="row" id="rowContact">
   <div class="col-6 col-md-6 card border-0 ">
    <div class="card-body" id="page_contact_bloc">
     <h5 class="card-title heading-primary blue">Devenir <span class="whiteOrange">bénévole</span> </h5>
     <p class="card-text">Vous souhaitez vous engager pour la solidarité internationale ? Rejoignez le
      CCFD-Terre Solidaire en devenant bénévole ! Vous pourrez participer à des événements et actions
      pour faire connaître nos actions et récolter des fonds.</p>
     <p class="card-text">N'hésitez pas à contacter Erica Baggi pour toutes questions ou informations
      concernant le CCFD-Terre Solidaire à Paris.</p>
    </div>

   </div>
   <div class="col-6 col-md-6 card border-0 text-center">
    <div class="card-body">
     <div class="vignette">
      <img src="https://image.s4.sfmc-content.com/lib/fe2d11727664057e761c79/m/1/a7655af7-bf2d-4887-877f-ee3d649f7d6f.jpg"
       alt="Erica Baggi" class="img-fluid mb-3">
     </div>
     <h5 class="card-title" id="page_contact_contact">Contacter Erica Baggi</h5>
     <h6 class="card-subtitle mb-2 text-muted">Responsable régionale de Paris</h6>
    </div>
    <a href="tel:+33123456789" class="btn btn-primary mb-3">Appeler</a>
    <a href="#" class="btn btn-secondary mb-3">Être appelé</a>
   </div>
  </div>
  
  <!--jumbotron-->
  <div class="row" id="rowJumb">
   <div class="col-md-12">
    <div class="jumbotron">
     <div class="container">
      <h1 class="display-4 heading-primary orange"><span class="whiteBlue">Merci !!</span> d'avoir
       participé à notre démonstration</h1>
      <p class="lead" id="page_merci_txt">La page que vous voyez a été générée (presque) intégralement
       avec ChatGPT et Salesforce Marketing Cloud en fonction de vos réponses à nos questions. </p>
      <hr />
      <p class="lead" id="page_merci_vars"><label></label>
      </p>
     </div>
    </div>
   </div>
  </div>
  <!-- update perso -->
  <div class="row" id="rowPerso">
   <div class="col-md-12" style="background-color: #fc6117;">
    <div class="jumbotron" style="background-color: #fc6117;">
     <div class="container" >
      <h5 class="card-title heading-primary blue">Modifier <span class="orangeWhite">la perso</span> </h5>
     </div>
    </div>
   </div>
  </div>
  <div class="row justify-content-center " id="rowPersoNext">
   <div class="col-md-12 alert alert-info" >
    <p class="card-text">Vous pouvez forcer la personalisation pour voir ce que d'autres profils voient au moyen du formulaire ci-dessous</p>
    <form id="persoForm">
     <div class="form-group">
       <label for="combatDropdown">Sélectionnez un combat :</label>
       <select id="combatDropdown" name="combat" class="form-control">
      <option value="justice_eco">Justice économique</option>
      <option value="paix_ensemble">Paix ensemble</option>
      <option value="migrations_int">Migrations internationales</option>
      <option value="alimentaire">Alimentaire</option>
       </select>
     </div>
     <div class="form-group">
       <label for="profilDropdown">Sélectionnez un profil :</label>
       <select id="profilDropdown" name="profil" class="form-control">
      <option value="militant">Militant</option>
      <option value="donateur">Donateur</option>
       </select>
     </div>
     <div class="form-group">
       <label for="tuvousDropdown">Sélectionnez une option :</label>
       <select id="tuvousDropdown" name="tuvous" class="form-control">
      <option value="tu">Tu</option>
      <option value="vous">Vous</option>
       </select>
     </div>
     <div class="form-group">
       <label for="calendrierDropdown">Sélectionnez un calendrier :</label>
       <select id="calendrierDropdown" name="calendrier" class="form-control">
      <option value="calendrier_religieux">Calendrier religieux</option>
      <option value="calendrier_non_def">Calendrier non-défini</option>
       </select>
     </div>
     <div class="form-group">
       <label for="uneminuteDropdown">Sélectionnez une durée :</label>
       <select id="uneminuteDropdown" name="uneminute" class="form-control">
      <option value="une_mn">Une minute</option>
      <option value="quinze_mn">Quinze minutes</option>
       </select>
     </div>
     <button type="submit" class="btn btn-primary">Changer de profil et modifier la personalisation de la page </button>
      </form>
    </div>
   </div>
  </div>
 </div>
 
 <script>

   
    var  profil = {
    'combat': 'justice_eco', //justice_eco, migrations_inter, ...
    'profil': 'militant',  // donateur, militant 
    'calendrier': 'calendrier_catho', //
    'temps': 'unemn', //
    'style': 'vous',
    'prenom': '%%=v(@prenom)=%%',
    'nom': '%%=v(@nom)=%%',
    'email': '%%=v(@email)=%%',
    'tel': '%%=v(@mobile)=%%',
    'civilite': 'madame'
}
    

var data_combat_justice = {
    img_hero: "https://ccfd-terresolidaire.org/wp-content/uploads/2021/11/Reportage-PELERIN_CCFD-Inde-2016-023-1536x1025.jpg",
    img_action: "https://ccfd-terresolidaire.org/wp-content/uploads/2022/01/Sans-titre-1-1536x864.png",
    page_titre: {
        "tu": "Salut " + profil.prenom,
        "vous": "Chère Madame, Cher Monsieur"
    },
    page_titre_ornage: {
        "tu": "Ensemble, Exigeons des politiques économiques, fiscales et réglementaires justes ",
        "vous": "Ensemble, Exigeons des politiques économiques, fiscales et réglementaires justes "
    },
    page_merci_txt: {
        "tu": "La page que tu vois a été générée (presque) intégralement avec ChatGPT et Salesforce Marketing Cloud en fonction de tes réponses à nos questions. Si tu as des questions ou des remarques, n'hésite pas à nous les faire savoir !",
        "vous": "La page que vous voyez a été générée (presque) intégralement avec ChatGPT et Salesforce Marketing Cloud en fonction de vos réponses à nos questions."
    },
    page_merci_vars: {
        "tu": "Tes réponses : ",
        "vous": "Vos réponses :"
    },
    page_petition_titre: {
        "tu": "Pour une économie plus juste et plus solidaire !",
        "vous": "Pour une économie plus juste et plus solidaire !"
    },
    page_petition_txt: {
        "tu": "Ensemble, demandons la mise en place de politiques économiques justes, d'un système fiscal équitable, et d'une réglementation stricte des entreprises transnationales pour construire un monde plus durable et plus équitable pour tous ! Rejoins-nous en signant cette pétition. Ensemble, nous pouvons faire pression sur les décideurs politiques et économiques pour qu'ils prennent des mesures concrètes en faveur de la justice économique. Signe maintenant pour rejoindre notre mouvement !",
        "vous": "Nous demandons la mise en place de politiques économiques justes, d'un système fiscal équitable, et d'une réglementation stricte des entreprises transnationales. Rejoignez-nous en signant cette pétition pour construire un monde plus durable et plus équitable pour tous ! Ensemble, nous pouvons faire pression sur les décideurs politiques et économiques pour qu'ils prennent des mesures concrètes en faveur de la justice économique. Signez maintenant pour rejoindre notre mouvement !."
    },
    page_don_titre: {
        "tu": "Soutiens la justice économique en faisant un don !",
        "vous": "Soutenez la justice économique en faisant un don !"
    },
    page_don_txt: {
        "tu": "Tu peux contribuer à la construction d'un monde plus juste et plus solidaire en faisant un don à CCFD-Terre Solidaire. Nous agissons pour la mise en place de politiques économiques justes, d'un système fiscal équitable, et d'une réglementation stricte des entreprises transnationales pour lutter contre les inégalités et la pauvreté dans le monde. Avec ton don, nous pourrons financer des projets de développement durable et soutenir des actions de plaidoyer pour la justice économique. Soutiens-nous dans notre combat pour un monde plus équitable pour tous en faisant un don dès maintenant !",
        "vous": "Vous pouvez contribuer à la construction d'un monde plus juste et plus solidaire en faisant un don à CCFD-Terre Solidaire. Nous agissons pour la mise en place de politiques économiques justes, d'un système fiscal équitable, et d'une réglementation stricte des entreprises transnationales pour lutter contre les inégalités et la pauvreté dans le monde. Avec votre don, nous pourrons financer des projets de développement durable et soutenir des actions de plaidoyer pour la justice économique. Soutenez-nous dans notre combat pour un monde plus équitable pour tous en faisant un don dès maintenant !"
    },
    page_contact_bloc: {
        "vous": '<h5 class="card-title heading-primary blue">Devenir <span class="whiteOrange">bénévole</span></h5>' +
            '<p class="card-text">Vous souhaitez vous engager pour la solidarité internationale ? Rejoignez le CCFD-Terre Solidaire en devenant bénévole ! Vous pourrez participer à des événements et actions pour faire connaître nos actions et récolter des fonds.</p>' +
            '<p class="card-text">N\'hésitez pas à contacter Erica Baggi pour toutes questions ou informations concernant le CCFD-Terre Solidaire à Paris.</p>',
        "tu": '<h5 class="card-title heading-primary blue">Devenir <span class="whiteOrange">bénévole</span></h5>' +
            '<p class="card-text">Vous souhaitez vous engager pour la solidarité internationale ? Rejoignez le CCFD-Terre Solidaire en devenant bénévole ! Vous pourrez participer à des événements et actions pour faire connaître nos actions et récolter des fonds.</p>' +
            '<p class="card-text">N\'hésitez pas à contacter Erica Baggi pour toutes questions ou informations concernant le CCFD-Terre Solidaire à Paris.</p>'
    },
    page_contact_contact: {
        "tu": "",
        "vous": ""
    },
};

var data_combat_paix = {
    img_hero: "https://ccfd-terresolidaire.org/wp-content/uploads/2022/02/copie-une-femmes-1024x457.jpg",
    img_action: "https://ccfd-terresolidaire.org/wp-content/uploads/2022/02/39740-Reportage-PELERIN-CCFD-Inde-2016-002-Michael-ZUMSTEIN-CCFD-Terre-Solidaire-Agence-VU-1536x1024.jpg",
    page_titre: {
        "tu": "Salut " + profil.prenom,
        "vous": "Chère Madame, Cher Monsieur"
    },
    page_titre_ornage: {
        "tu": "Merci de ton engagemnet à nos côtés",
        "vous": "Nous sommes très heureux de vous compter parmi nous"
    },
    page_merci_txt: {
        "tu": "La page que tu vois a été générée (presque) intégralement avec ChatGPT et Salesforce Marketing Cloud en fonction de tes réponses à nos questions. Si t'as des questions ou des remarques, n'hésite pas à nous les faire savoir !",
        "vous": "La page que vous voyez a été générée (presque) intégralement avec ChatGPT et Salesforce Marketing Cloud en fonction de vos réponses à nos questions."
    },
    page_merci_vars: {
        "tu": "Tes réponses : ",
        "vous": "Vos réponses :"
    },
    page_petition_titre: {
        "tu": "Pour une véritable égalité entre les sexes",
        "vous": "Pour une véritable égalité entre les sexes"
    },
    page_petition_txt: {
        "tu" : "Le 8 mars, c'est la Journée internationale des droits des femmes ? Cette journée vise à sensibiliser tout le monde aux inégalités entre les sexes qui persistent dans le monde entier, et à célébrer les réalisations des femmes. Pourtant, malgré les efforts déployés pour lutter contre ces inégalités, les femmes continuent de faire face à de gros obstacles dans de nombreux domaines de la vie, comme l'accès à l'éducation, à l'emploi et à la prise de décision. On demande notamment l'égalité salariale, l'accès égal à l'éducation et à la formation pour les filles et les femmes, la protection contre toutes les formes de violence et de harcèlement, la participation pleine et égale des femmes à tous les niveaux de prise de décision, et la reconnaissance et la valorisation du travail de soins non rémunéré fourni principalement par les femmes.Si tu signes cette pétition, tu montres ton engagement envers l'égalité entre les sexes, et tu demandes aux décideurs de prendre des mesures concrètes pour atteindre cet objectif.Ensemble, on peut construire un monde plus juste et égalitaire pour les femmes et les filles. Merci de ton soutien !",
        "vous": "Le 8 mars est commémoré comme la Journée internationale des droits des femmes, dans le but de sensibiliser le public aux inégalités persistantes entre les sexes dans le monde entier. Cependant, malgré les efforts déployés pour lutter contre les inégalités entre les sexes, les femmes continuent de faire face à des obstacles importants dans de nombreux domaines de la vie, notamment dans l'accès à l'éducation, à l'emploi et à la prise de décision.Nous sollicitons entre autres l'égalité salariale pour un travail équivalent, ainsi que des mesures pour éliminer les écarts de rémunération entre les sexes. Nous appelons également à l'accès égal à l'éducation et à la formation pour les filles et les femmes, à la protection des femmes contre toutes les formes de violence et de harcèlement, à la participation pleine et égale des femmes à tous les niveaux de prise de décision, y compris en politique, dans les affaires et dans la vie publique. En signant cette pétition, vous témoignez de votre engagement envers l'égalité entre les sexes et vous demandez aux décideurs de prendre des mesures concrètes pour atteindre cet objectif. Nous vous remercions pour votre soutien.",

    },
    page_don_titre: {
        "tu": "Contribue à la cause en faisant un don pour soutenir un projet de société plus égalitaire avec les femmes.",
        "vous": "Contribuez à la cause en faisant un don pour soutenir un projet de société plus égalitaire avec les femmes."
    },
    page_don_txt: {
        "tu": "Soutiens les projets de CCFD-Terre Solidaire pour aider les femmes à vivre dignement. Fais un don dès maintenant pour garantir leur sécurité, leur bien-être et leur liberté. Chaque femme a le droit de vivre dans la dignité et la sécurité, sans être victime de discrimination ou de violence en raison de son genre. Fais un geste aujourd'hui pour protéger les droits des femmes et mettre fin à leur souffrance. \n\n",
        "vous": "Soutenez les projets de CCFD-Terre Solidaire pour aider les femmes à vivre dignement. Faites un don dès maintenant pour garantir leur sécurité, leur bien-être et leur liberté. Chaque femme a le droit de vivre dans la dignité et la sécurité, sans être victime de discrimination ou de violence en raison de son genre. Faites un geste aujourd'hui pour protéger les droits des femmes et mettre fin à leur souffrance. \n\n"
       },
    page_contact_bloc: {
        "vous": '<h5 class="card-title heading-primary blue">Devenir <span class="whiteOrange">bénévole</span></h5>' +
            '<p class="card-text">Vous souhaitez vous engager pour la paix et le vivre ensemble? Rejoignez le CCFD-Terre Solidaire en devenant bénévole ! Vous pourrez participer à des événements et actions pour faire connaître nos actions et récolter des fonds.</p>' +
            '<p class="card-text">N\'hésitez pas à contacter Erica Baggi pour toutes questions ou informations concernant le CCFD-Terre Solidaire à Paris.</p>',
        "tu": '<h5 class="card-title heading-primary blue">Devenir <span class="whiteOrange">bénévole</span></h5>' +
            '<p class="card-text">Vous souhaitez vous engager pour la paix et le vivre ensemble? Rejoignez le CCFD-Terre Solidaire en devenant bénévole ! Vous pourrez participer à des événements et actions pour faire connaître nos actions et récolter des fonds.</p>' +
            '<p class="card-text">N\'hésitez pas à contacter Erica Baggi pour toutes questions ou informations concernant le CCFD-Terre Solidaire à Paris.</p>'
    },
    page_contact_contact: {
        "tu": "",
        "vous": ""
    },
};


var data_combat_migrations = {
    img_hero: "https://ccfd-terresolidaire.org/wp-content/uploads/2021/11/095_VAR2021011G0603-6534-scaled-e1641488363935-768x574.jpg",
    img_action: "https://ccfd-terresolidaire.org/wp-content/uploads/2021/12/Capture-d%C3%A9cran-2021-12-15-%C3%A0-16.35.04-e1639583893196.png",
    page_titre: {
        "tu": "Salut " + profil.prenom,
        "vous": "Chère Madame, Cher Monsieur"
    },
    page_titre_ornage: {
        "tu": "Merci de ton engagement !<br/> Luttons pour des politiques migratoires plus jutes !",
        "vous": "Nous vous remerçions de votre engagement en faveur d'une politique migratoire plus juste"
    },
    page_merci_txt: {
        "tu": "La page que tu vois a été générée (presque) intégralement avec ChatGPT et Salesforce Marketing Cloud en fonction de tes réponses à nos questions. Si t'as des questions ou des remarques, n'hésite pas à nous les faire savoir !",
        "vous": "La page que vous voyez a été générée (presque) intégralement avec ChatGPT et Salesforce Marketing Cloud en fonction de vos réponses à nos questions."
    },
    page_merci_vars: {
        "tu": "Tes réponses : ",
        "vous": "Vos réponses :"
    },
    page_petition_titre: {
        "tu": "Signe la pétition pour soutenir une politique migratoire plus juste",
        "vous": "Signez la pétition pour soutenir une politique migratoire plus juste"
    },
    page_petition_txt: {
        "tu" : "<p>On demande l'interdiction immédiate du commerce des produits issus des colonies israéliennes illégales en Cisjordanie occupée. Ce commerce soutient l'expansion illégale des colonies et va à l'encontre des valeurs de justice et de solidarité. On appelle le gouvernement français et l'Union européenne à prendre des mesures concrètes pour mettre fin à ce commerce illégal et pour promouvoir la paix au Moyen-Orient.</p><p>En signant cette pétition, tu montres ton soutien à cette cause importante. Tu peux faire la différence en demandant à nos dirigeants de prendre des mesures concrètes pour mettre fin à cette injustice. Signe maintenant pour exiger l'interdiction du commerce des produits des colonies israéliennes et pour soutenir la paix et la justice pour tous.</p>",
        "vous": "Nous sommes préoccupés par la situation difficile des migrants dans le monde entier. Nous devons soutenir le travail important du Comité Catholique contre la Faim et pour le Développement (CCFD) - Terre Solidaire pour défendre leurs droits et leur offrir une aide humanitaire.\n\nSi vous aussi, vous pensez que les gouvernements doivent respecter les droits des migrants, mettre fin aux politiques de détention et de déportation arbitraires et garantir leur sécurité et leur bien-être, alors rejoignez-nous en signant cette pétition. Nous exhortons également les donateurs à soutenir financièrement les projets de développement de CCFD-Terre Solidaire pour améliorer les conditions de vie des migrants et leur permettre de vivre dignement.\n\nChaque personne a le droit de vivre dans la dignité et la sécurité, quelles que soient ses origines et sa nationalité. Nous devons donc travailler ensemble pour protéger les droits des migrants et mettre fin à leur souffrance.\n\nSignez cette pétition pour exprimer votre solidarité envers les migrants et soutenir les actions de CCFD-Terre Solidaire.\n\nMerci d'avance pour votre soutien."

    },
    page_don_titre: {
        "tu": "Contribue à la cause en faisant un don pour soutenir une politique migratoire plus juste",
        "vous": "Donnez pour une politique migratoire plus juste"
    },
    page_don_txt: {
     "tu": "Aide les migrants à vivre dignement. Fais un don pour soutenir les projets de CCFD-Terre Solidaire dès maintenant. Ton don garantira leur sécurité, leur bien-être et leur liberté. Chaque personne a le droit de vivre dans la dignité et la sécurité, quelles que soient ses origines et sa nationalité. Fais un geste aujourd'hui pour protéger les droits des migrants et mettre fin à leur souffrance.\n\n",
     "vous": "Aidez les migrants à vivre dignement. Faites un don pour soutenir les projets de CCFD-Terre Solidaire dès maintenant. Votre don garantira leur sécurité, leur bien-être et leur liberté. Chaque personne a le droit de vivre dans la dignité et la sécurité, quelles que soient ses origines et sa nationalité. Faites un geste aujourd'hui pour protéger les droits des migrants et mettre fin à leur souffrance.\n\n"
    },
    page_contact_bloc: {
        "vous": '<h5 class="card-title heading-primary blue">Devenir <span class="whiteOrange">bénévole</span></h5>' +
            '<p class="card-text">Vous souhaitez vous engager pour la justice migratoire ? Rejoignez le CCFD-Terre Solidaire en devenant bénévole ! Vous pourrez participer à des événements et actions pour soutenir les projets d\'accueil et d\'intégration des migrants.</p>' +
            '<p class="card-text">N\'hésitez pas à contacter Erica Baggi pour toutes questions ou informations concernant le CCFD-Terre Solidaire et son engagement en faveur des droits des migrants.</p>',
        "tu": '<h5 class="card-title heading-primary blue">Devenir <span class="whiteOrange">bénévole</span></h5>' +
            '<p class="card-text">Tu souhaites t\'engager pour la justice migratoire ? Rejoins le CCFD-Terre Solidaire en devenant bénévole ! Tu pourras participer à des événements et actions pour soutenir les projets d\'accueil et d\'intégration des migrants.</p>' +
            '<p class="card-text">N\'hésite pas à contacter Erica Baggi pour toutes questions ou informations concernant le CCFD-Terre Solidaire et son engagement en faveur des droits des migrants.</p>'
    },
    page_contact_contact: {
        "tu": "",
        "vous": ""
    },
};

var data_combat_alimentaire = {
    img_hero: "https://ccfd-terresolidaire.org/wp-content/uploads/2022/07/Reportage-Roberta-Valerio-Mauritanie-74-768x512.jpg",
    img_action: "https://ccfd-terresolidaire.org/wp-content/uploads/2021/11/Reportage-LA-VIE_CCFD-Mali-2016-008-scaled.jpg",
    page_titre: {
        "tu": "Salut " + profil.prenom,
        "vous": "Chère Madame, Cher Monsieur"
    },
    page_titre_ornage: {
        "tu": "Soutiens la souveraineté alimentaire en faisant un don !",
        "vous": "Soutenez la souveraineté alimentaire en faisant un don !"      
    },
    page_merci_txt: {
        "tu": "La page que tu vois a été générée (presque) intégralement avec ChatGPT et Salesforce Marketing Cloud en fonction de tes réponses à nos questions. Si t'as des questions ou des remarques, n'hésite pas à nous les faire savoir !",
        "vous": "La page que vous voyez a été générée (presque) intégralement avec ChatGPT et Salesforce Marketing Cloud en fonction de vos réponses à nos questions."
    },
    page_merci_vars: {
        "tu": "Tes réponses : ",
        "vous": "Vos réponses :"
    },
    page_petition_titre: {
        "tu": "Agis pour la souveraineté alimentaire en signant la pétition !",
        "vous": "Agissez pour la souveraineté alimentaire en signant la pétition !"
    },
    page_petition_txt: {
        "tu": "Signe maintenant notre pétition pour demander des politiques publiques qui soutiennent la souveraineté alimentaire. Ensemble, exigeons que les gouvernements prennent des mesures pour permettre aux paysans et aux populations locales de produire une nourriture saine et accessible à tous, tout en préservant l'environnement. Mobilisons-nous pour défendre le droit à une alimentation de qualité pour tous !",
        "vous": "Signez maintenant notre pétition pour demander des politiques publiques qui soutiennent la souveraineté alimentaire. Ensemble, exigeons que les gouvernements prennent des mesures pour permettre aux paysans et aux populations locales de produire une nourriture saine et accessible à tous, tout en préservant l'environnement. Mobilisons-nous pour défendre le droit à une alimentation de qualité pour tous !"
    },
    page_don_titre: {
        "tu": "Soutiens la souveraineté alimentaire en faisant un don !",
        "vous": "Soutenez la souveraineté alimentaire en faisant un don !"
    },
    page_don_txt: {
        "tu": "Fais un don dès maintenant pour soutenir les projets de CCFD-Terre Solidaire en faveur de la souveraineté alimentaire. Ton soutien permettra aux paysans et aux populations locales de produire une nourriture saine et accessible à tous, tout en préservant l'environnement. Ensemble, défendons le droit à une alimentation de qualité pour tous !",
        "vous": "Faites un don dès maintenant pour soutenir les projets de CCFD-Terre Solidaire en faveur de la souveraineté alimentaire. Votre soutien permettra aux paysans et aux populations locales de produire une nourriture saine et accessible à tous, tout en préservant l'environnement. Ensemble, défendons le droit à une alimentation de qualité pour tous !"
    },
    page_contact_bloc: {
        "tu": '<h5 class="card-title heading-primary blue">Devenir <span class="whiteOrange">bénévole</span></h5>' +
                '<p class="card-text">Vous souhaitez vous engager pour la souveraineté alimentaire et la justice climatique ? Rejoignez le CCFD-Terre Solidaire en devenant bénévole ! Vous pourrez participer à des événements et des actions pour faire connaître nos actions et récolter des fonds.</p>' +
                '<p class="card-text">N\'hésitez pas à contacter Anne-Sophie Ledoux pour toutes questions ou informations concernant le CCFD-Terre Solidaire à Paris.</p>',
        "vous": '<h5 class="card-title heading-primary blue">Devenir <span class="whiteOrange">bénévole</span></h5>' +
                '<p class="card-text">Vous souhaitez vous engager pour la souveraineté alimentaire et la justice climatique ? Rejoignez le CCFD-Terre Solidaire en devenant bénévole ! Vous pourrez participer à des événements et des actions pour faire connaître nos actions et récolter des fonds.</p>' +
                '<p class="card-text">N\'hésitez pas à contacter Anne-Sophie Ledoux pour toutes questions ou informations concernant le CCFD-Terre Solidaire à Paris.</p>'
 },
    page_contact_contact: {
        "tu": "",
        "vous": ""
    },
};
  </script>
  <script src="perso.js"></script>
  <script>
    
  class UpdateText {
   constructor(profil) {
    this.profile = this.createProfileObject()
    window.console.log(this.profile)
    this.prepare()
    this.run()
   }
   // get url or post 
   getter () {
    const urlParams = new URLSearchParams(location.search); // Récupération des données en GET
    const formData = new FormData(document.querySelector('form')); // Récupération des données en POST
    const requestData = {};

    // Conversion des données en GET en un objet JavaScript
    for (var [key, value] of urlParams.entries()) {
     requestData[key] = value;
    }

    // Conversion des données en POST en un objet JavaScript
    for (var [key, value] of formData.entries()) {
     requestData[key] = value;
    }

    return requestData;    
   }
   // prepare for run update text action
   prepare () {
    switch (this.profile.combat) {
     case "justice_eco":
      this.data = data_combat_justice;
      break;
     case "paix_ensemble":
      this.data = data_combat_paix;
      break;
     case "migrations_int": 
      this.data = data_combat_migrations
      break; 
     case "alimentaire": 
      this.data = data_combat_alimentaire
      break; 
     default:
      this.data = data_combat_justice;
    }

    this.profile.divs = ['rowJumb','rowPerso','rowPersoNext', 'headerMessage','img_hero', 'articlesMEA']

    if (this.profile.profil == "militant") {
     this.prof = 'militant';
    } else {
     this.prof = 'donateur';
     this.profile.divs.push('rowDon')
    }
   window.console.log('profil:')
    window.console.log(this.profile)
    if (this.profile.tuvous == "tu") {
     this.style = 'tu';
    } else {
     this.style = 'vous';
    }

    if (this.profile.calendrier == "calendrier_religieux") {
     this.calendrier = 'calendrier_religieux';
     this.profile.divs.push('careme')
    } else {
     this.calendrier = 'calendrier_non_def';
    }

    if (this.profile.temps == "une_mn" && this.profile.profil == "militant") {
     this.temps = 'unemn';
     this.profile.divs.push('rowPetition')
    } else if(this.profile.temps == "quinze_mn" && this.profile.profil == "militant") {
     this.temps = 'quinzemn';
     this.profile.divs.push('rowContact')
    }



    
    
   }

   // Method to update text
   updateText(id) {
    window.console.log(id+this.style)
    const element = document.getElementById(id);
    const text = this.data[id][this.style];
    if (element && text) {
     element.innerHTML = text;
    }
   }

   // Method to display add a bloc

   //Create profil based on vars scores
   createProfileObject() {
    const queryString = window.location.search;
    //const urlParams = new URLSearchParams(queryString);

    const combatKeys = ['justice_eco', 'paix_ensemble', 'migrations_int', 'alimentaire'];
    const combatValues = [%%=v(@justice_eco)=%%, %%=v(@paix_ensemble)=%%, %%=v(@migrations_int)=%%, %%=v(@alimentaire)=%%];
    const highestCombatValue = Math.max(...combatValues);
    const combatIndex = combatValues.indexOf(highestCombatValue);
    const combat = combatKeys[combatIndex];

    const profilKeys = ['militant', 'donateur'];
    const profilValues = [%%=v(@militant)=%%, %%=v(@donateur)=%%];
    const highestProfilValue = Math.max(...profilValues);
    const profilIndex = profilValues.indexOf(highestProfilValue);
    const profil = profilKeys[profilIndex];

    const tuvousKeys = ['tu', 'vous'];
    const tuvousValues = [%%=v(@tu)=%%, %%=v(@vous)=%%];
    const highestTuvousValue = Math.max(...tuvousValues);
    const tuvousIndex = tuvousValues.indexOf(highestTuvousValue);
    const tuvous = tuvousKeys[tuvousIndex];

    const calendrierKeys = ['calendrier_religieux', 'calendrier_non_def'];
    const calendrierValues = [%%=v(@calendrier_religieux)=%%, %%=v(@calendrier_non_def)=%%];
    const highestCalendrierValue = Math.max(...calendrierValues);
    const calendrierIndex = calendrierValues.indexOf(highestCalendrierValue);
    const calendrier = calendrierKeys[calendrierIndex];

    const uneminuteKeys = ['une_mn', 'quinze_mn'];
    const uneminuteValues = [%%=v(@une_mn)=%%, %%=v(@quinze_mn)=%%];;
    const highestUneminuteValue = Math.max(...uneminuteValues);
    const uneminuteIndex = uneminuteValues.indexOf(highestUneminuteValue);
    const temps = uneminuteKeys[uneminuteIndex];

    const profile = {
     combat,
     profil,
     tuvous,
     calendrier,
     temps
    };

    return profile;
   }

  run() {
   this.updateText("page_titre");
   this.updateText("page_titre_ornage");
   this.updateText("page_merci_txt");
   this.updateText("page_merci_vars");
   this.updateText("page_petition_titre");
   this.updateText("page_petition_txt");
   this.updateText("page_don_titre");
   this.updateText("page_don_txt");
   this.updateText("page_contact_bloc");
   //update hero 
   const hero = document.getElementById('img_hero');
   hero.style.backgroundImage = "url('" + this.data.img_hero + "')";
   const imgActions = document.querySelectorAll('.img_action');
   imgActions.forEach((img) => {
    img.src = this.data.img_action;
   });

    
    
   //update divs 
   // Select all div elements with class 'row'
   const allRows = document.querySelectorAll('div.row');

   // Loop through all the rows
   allRows.forEach(row => {
   row.style.display = '';
   // Check if the row's ID is in the 'this.profile.divs' array
   if (!this.profile.divs.includes(row.id)) {
    // If not, hide the row
    row.style.display = 'none';
   }
   });  


  }
  }


  // run personalisation
  const updater = new UpdateText(profil);

  
  // récupération du formulaire
  const form = document.getElementById("persoForm");

  // ajout d'un événement de soumission du formulaire de perso
  form.addEventListener("submit", (event) => {
   // empêcher le comportement par défaut de la soumission du formulaire
   event.preventDefault();
   const valSelected = getSelectedValues()
   // affichage des valeurs sélectionnées dans la console
   updater.prepare()
   updater.run()
   this.scrollToTop()
  });

  // fonction de récupération des valeurs sélectionnées
  function getSelectedValues() {
   updater.profile.combat = document.getElementById("combatDropdown").value;
   updater.profile.profil = document.getElementById("profilDropdown").value;
   updater.profile.tuvous = document.getElementById("tuvousDropdown").value;
   updater.profile.calendrier = document.getElementById("calendrierDropdown").value;
   updater.profile.temps = document.getElementById("uneminuteDropdown").value;
  }

  function scrollToTop() {
   const currentScroll = document.documentElement.scrollTop || document.body.scrollTop;

   // Si la position est supérieure à 0, continuer à faire défiler vers le haut
   if (currentScroll > 0) {
    // Calculer la distance à parcourir et la durée de l'animation
    const distance = currentScroll / 4;
    const duration = 500;

    // Utiliser l'API de l'interface de temps de JavaScript pour animer la fenêtre qui fait défiler la position vers le haut
    window.requestAnimationFrame(() => {
    window.scrollTo({top  : 0, behavior: "smooth"});
    setTimeout(scrollToTop, duration);
    });
   }
  }

 </script>
</body>

</html>